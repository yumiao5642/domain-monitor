{% extends 'base.html' %}
{% load static %}
{% block title %}仪表板 - 域名监控系统{% endblock %}
{% block content %}
<div class="d-flex justify-content-between align-items-center mb-4">
    <h2 class="text-2xl font-bold page-title"><i class="fas fa-tachometer-alt mr-2"></i>仪表板</h2>
</div>
<div class="row">
    <div class="col-md-4 mb-4">
        <div class="card">
            <div class="card-body text-center">
                <i class="fas fa-globe fa-2x text-primary mb-3"></i>
                <h5 class="card-title">域名总数</h5>
                <p class="card-text text-3xl font-bold text-gray-800">{{ stats.domain_count }}</p>
            </div>
        </div>
    </div>
    <div class="col-md-4 mb-4">
        <div class="card">
            <div class="card-body text-center">
                <i class="fas fa-certificate fa-2x text-primary mb-3"></i>
                <h5 class="card-title">证书总数</h5>
                <p class="card-text text-3xl font-bold text-gray-800">{{ stats.cert_count }}</p>
            </div>
        </div>
    </div>
    <div class="col-md-4 mb-4">
        <div class="card">
            <div class="card-body text-center">
                <i class="fas fa-bell fa-2x text-primary mb-3"></i>
                <h5 class="card-title">告警总数</h5>
                <p class="card-text text-3xl font-bold text-gray-800">{{ stats.alert_count }}</p>
            </div>
        </div>
    </div>
</div>
<div class="card">
    <div class="card-body">
        <h5 class="card-title"><i class="fas fa-chart-line mr-2"></i>告警趋势</h5>
        <canvas id="alertTrendChart"></canvas>
    </div>
</div>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
new Chart(document.getElementById('alertTrendChart'), {
    type: 'line',
    data: {
        labels: ['1月', '2月', '3月', '4月', '5月', '6月'],
        datasets: [{
            label: '告警趋势',
            data: [10, 20, 15, 25, 30, 35],
            borderColor: '#007bff',
            backgroundColor: 'rgba(0, 123, 255, 0.1)',
            fill: true,
            tension: 0.4
        }]
    },
    options: {
        responsive: true,
        scales: {
            y: { beginAtZero: true }
        },
        plugins: {
            legend: { display: true, position: 'top' }
        }
    }
});
</script>
{% endblock %}
